<command>
  <name>list usr delivery pickhop</name>
  <description>list usr delivery pickhop</description>
  <type>Local Syntax</type>
  <local-syntax>
<![CDATA[
/* list usr delivery pickhop
 *
 * Version history:
 *  2020-04-29  Radina Ivanova - Initial version
 */
    publish data where wh_id = nvl(@wh_id, @@wh_id)
    |
    if (@wh_id = '')
    {
        get warehouse id
    }
    |
    [select usr_delivery.*, dscmst.lngdsc
       from usr_delivery
       join mov_zone
         on usr_delivery.dst_mov_zone_id = mov_zone.mov_zone_id
       join dscmst
         on dscmst.colnam = 'mov_zone_cod|wh_id'
        and dscmst.colval = mov_zone.mov_zone_cod || '|' || @wh_id
        and locale_id = nvl(@@locale_id, 'US_ENGLISH')
      where uc_delivery_id != -1
        and dst_mov_zone_id != -1
        and @*
      order by uc_delivery_id, dst_mov_zone_id, seqnum]
     
]]>
</local-syntax>
</command>